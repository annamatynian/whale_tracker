# üèõÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ç Gemini
## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π ML/AI —Å–∏—Å—Ç–µ–º—ã

*–î–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–æ–ø–æ–ª–Ω—è—é—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç production-ready –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º—ã*

---

## üîÑ **–ü–†–ò–ù–¶–ò–ü #7: –í–û–°–ü–†–û–ò–ó–í–û–î–ò–ú–û–°–¢–¨ –ò –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–ï (MLOps)**

### **–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞:**
> *"–õ—é–±–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –ø—Ä–∏–Ω—è—Ç–æ–µ —Å–∏—Å—Ç–µ–º–æ–π, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–º. –ú—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –±—ã–ª –¥–∞–Ω –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç."*

### **–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**
‚úÖ **–û—Ç–ª–∞–¥–∫–∞ –º–æ–¥–µ–ª–µ–π:** –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –¥–∞–ª–∞ –Ω–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑, –Ω–∞–º –Ω—É–∂–Ω–æ —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, –Ω–∞ –∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∫–∞–∫–æ–π –≤–µ—Ä—Å–∏–µ–π –º–æ–¥–µ–ª–∏ –æ–Ω –±—ã–ª —Å–¥–µ–ª–∞–Ω.

‚úÖ **–ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç–∞–ª–∞ –ª—É—á—à–µ –∏–ª–∏ —Ö—É–∂–µ, –Ω—É–∂–Ω–æ —É–º–µ—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

‚úÖ **–ê—É–¥–∏—Ç –∏ –¥–æ–≤–µ—Ä–∏–µ:** –í—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –¥–æ–∫–∞–∑–∞—Ç—å (–≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å —Å–µ–±–µ), –ø–æ—á–µ–º—É —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª–∞ –∫—É–ø–∏—Ç—å —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π —Ç–æ–∫–µ–Ω.

‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç "—Å–ª–æ–º–∞–ª–æ—Å—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è":** –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ–¥–∞, –Ω–æ –∏ –º–æ–¥–µ–ª–µ–π/–¥–∞–Ω–Ω—ã—Ö.

### **–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ:**

#### **1. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ –¥–∞–Ω–Ω—ã—Ö**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ **DVC (Data Version Control)**, –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
- –î–∞—Ç–∞—Å–µ—Ç–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –æ–±—É—á–∞—é—Ç—Å—è ML-–º–æ–¥–µ–ª–∏
- –°–∞–º–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–¥–µ–ª–µ–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –æ–±—É—á–µ–Ω–∏—è

#### **2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π**
–†–∞—Å—à–∏—Ä–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `CryptoAnalysisState` –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤–µ—Ä—Å–∏–π –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ.

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è CryptoAnalysisState:**

```python
# –î–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å CryptoAnalysisState
class CryptoAnalysisState(BaseModel):
    # ... –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–ª—è ...

    # === –î–ê–ù–ù–´–ï –î–õ–Ø –í–û–°–ü–†–û–ò–ó–í–û–î–ò–ú–û–°–¢–ò ===
    # –°–ª–æ–≤–∞—Ä—å, —Ö—Ä–∞–Ω—è—â–∏–π –≤–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ —ç—Ç–æ–º –∞–Ω–∞–ª–∏–∑–µ
    model_versions: Dict[str, str] = Field(
        default_factory=dict, 
        description="–í–µ—Ä—Å–∏–∏ ML –º–æ–¥–µ–ª–µ–π (e.g., {'success_predictor': 'v1.2.0'})"
    )
    # –•–µ—à –∫–æ–º–º–∏—Ç–∞ git, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª –∑–∞–ø—É—â–µ–Ω –∞–Ω–∞–ª–∏–∑
    git_commit_hash: Optional[str] = Field(
        None, 
        description="Git commit hash –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ–¥–∞"
    )
    # –í–µ—Ä—Å–∏—è –¥–∞–Ω–Ω—ã—Ö, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∞ –æ–±—É—á–µ–Ω–∞ –º–æ–¥–µ–ª—å
    training_data_version: Optional[str] = Field(
        None,
        description="–í–µ—Ä—Å–∏—è –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö"
    )
    # Timestamp –∞–Ω–∞–ª–∏–∑–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–∏
    analysis_timestamp: datetime = Field(
        default_factory=datetime.now,
        description="–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞"
    )
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∞–≥–µ–Ω—Ç–µ:**

```python
# –î–æ–ø–æ–ª–Ω–µ–Ω–Ω—ã–π RiskAssessmentAgent
class RiskAssessmentAgent:
    def __init__(self):
        # –í–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏–ª–∏ —Ñ–∞–π–ª–∞
        self.model_version = "v1.2.0" 
        self.success_predictor = load_model(f'token_success_predictor_{self.model_version}.pkl')
        
    def assess(self, state: CryptoAnalysisState) -> CryptoAnalysisState:
        # ... –ª–æ–≥–∏–∫–∞ –æ—Ü–µ–Ω–∫–∏ ...
        
        # –ó–ê–ü–ò–°–´–í–ê–ï–ú –í–ï–†–°–ò–Æ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ù–û–ô –ú–û–î–ï–õ–ò –í –°–û–°–¢–û–Ø–ù–ò–ï
        state.model_versions['success_predictor'] = self.model_version
        state.git_commit_hash = get_current_git_hash()  # –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
        state.training_data_version = "scam_patterns_v2.1.0"
        
        state.risk_assessment = RiskAssessmentReport(...)
        return state
```

#### **3. –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**

```python
import subprocess
from typing import Dict, Any

def get_current_git_hash() -> str:
    """–ü–æ–ª—É—á–∏—Ç—å —Ö–µ—à —Ç–µ–∫—É—â–µ–≥–æ git –∫–æ–º–º–∏—Ç–∞"""
    try:
        result = subprocess.run(
            ['git', 'rev-parse', 'HEAD'], 
            capture_output=True, 
            text=True, 
            check=True
        )
        return result.stdout.strip()
    except subprocess.CalledProcessError:
        return "unknown"

def get_model_metadata(model_path: str) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏"""
    return {
        'model_path': model_path,
        'created_at': os.path.getctime(model_path),
        'size_bytes': os.path.getsize(model_path),
        'checksum': calculate_file_hash(model_path)
    }

def save_analysis_snapshot(state: CryptoAnalysisState, output_dir: str):
    """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫ –∞–Ω–∞–ª–∏–∑–∞ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏"""
    snapshot_data = {
        'state': state.dict(),
        'environment': {
            'python_version': sys.version,
            'packages': get_installed_packages(),
            'os_info': platform.platform()
        }
    }
    
    snapshot_file = f"{output_dir}/analysis_snapshot_{state.analysis_timestamp}.json"
    with open(snapshot_file, 'w') as f:
        json.dump(snapshot_data, f, indent=2, default=str)
```

---

## üí∞ **–ü–†–ò–ù–¶–ò–ü #8: –£–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–¢–†–ê–¢–ê–ú–ò –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨**

### **–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞:**
> *"–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –≤–Ω–µ—à–Ω–∏—Ö –∞—Ç–∞–∫. –ú—ã –¥–æ–ª–∂–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã –∏ –æ–±–µ–∑–æ–ø–∞—Å–∏—Ç—å –Ω–∞—à–∏ API-–∫–ª—é—á–∏."*

### **–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**
‚úÖ **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —Ç—ã—Å—è—á–∞–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ø–ª–∞—Ç–Ω–æ–º—É API –∏ –æ–≥—Ä–æ–º–Ω—ã–º —Å—á–µ—Ç–∞–º.

‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π:** –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –µ–µ –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å –æ—Ç DoS-–∞—Ç–∞–∫.

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π:** –ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è API-–∫–ª—é—á–µ–π –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã–º –ø–æ—Ç–µ—Ä—è–º.

‚úÖ **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ—Å—Ç—å —Ä–∞—Å—Ö–æ–¥–æ–≤:** –í—ã –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ä–∞–±–æ—Ç–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã.

### **–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ:**

#### **1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏**
- **–°—Ç–∞—Ä—Ç–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å:** `.env` —Ñ–∞–π–ª—ã —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º dev/prod –æ–∫—Ä—É–∂–µ–Ω–∏–π
- **Production —É—Ä–æ–≤–µ–Ω—å:** Doppler, HashiCorp Vault –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã –æ—Ç –æ–±–ª–∞—á–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

#### **2. –ë—é–¥–∂–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä**
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ –∫ –ø–ª–∞—Ç–Ω—ã–º API –∏ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤.

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ë—é–¥–∂–µ—Ç–Ω–æ–≥–æ –ú–µ–Ω–µ–¥–∂–µ—Ä–∞:**

```python
from collections import Counter
from datetime import datetime, timedelta
import logging

# –ü—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞—Ç—Ä–∞—Ç
class CostTracker:
    def __init__(self, daily_budget_usd: float = 5.0):
        self.daily_budget = daily_budget_usd
        self.costs = Counter()
        self.call_history = []
        self.api_prices = {
            'openai_gpt4': 0.03 / 1000,  # –¶–µ–Ω–∞ –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤
            'openai_gpt3.5': 0.002 / 1000,
            'goplus_pro': 0.005,  # –¶–µ–Ω–∞ –∑–∞ –≤—ã–∑–æ–≤ (—É—Å–ª–æ–≤–Ω–æ)
            'twitter_api': 0.001,  # –¶–µ–Ω–∞ –∑–∞ –∑–∞–ø—Ä–æ—Å
            'coingecko_pro': 0.0001  # –û—á–µ–Ω—å –¥–µ—à–µ–≤–æ
        }
        self.daily_limits = {
            'openai_gpt4': 100,  # –ú–∞–∫—Å–∏–º—É–º –≤—ã–∑–æ–≤–æ–≤ –≤ –¥–µ–Ω—å
            'twitter_api': 1000,
            'total_usd': daily_budget_usd
        }
    
    def record_call(self, api_name: str, tokens: int = 0, metadata: dict = None):
        """–ó–∞–ø–∏—Å–∞—Ç—å –≤—ã–∑–æ–≤ API —Å —Ä–∞—Å—á–µ—Ç–æ–º —Å—Ç–æ–∏–º–æ—Å—Ç–∏"""
        cost = 0
        if api_name in self.api_prices:
            cost = self.api_prices[api_name] * (tokens or 1)
            self.costs[api_name] += cost
            
        # –ó–∞–ø–∏—Å–∞—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
        self.call_history.append({
            'timestamp': datetime.now(),
            'api_name': api_name,
            'tokens': tokens,
            'cost_usd': cost,
            'metadata': metadata or {}
        })
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        logging.info(f"API Call: {api_name}, Cost: ${cost:.4f}, Total today: ${self.get_daily_cost():.2f}")
        
    def get_total_cost(self) -> float:
        """–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è"""
        return sum(self.costs.values())
        
    def get_daily_cost(self) -> float:
        """–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —Å–µ–≥–æ–¥–Ω—è"""
        today = datetime.now().date()
        daily_cost = sum(
            call['cost_usd'] for call in self.call_history 
            if call['timestamp'].date() == today
        )
        return daily_cost
    
    def is_budget_exceeded(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –¥–Ω–µ–≤–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞"""
        return self.get_daily_cost() > self.daily_budget
        
    def is_api_limit_exceeded(self, api_name: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ API"""
        if api_name not in self.daily_limits:
            return False
            
        today = datetime.now().date()
        daily_calls = len([
            call for call in self.call_history 
            if call['timestamp'].date() == today and call['api_name'] == api_name
        ])
        
        return daily_calls >= self.daily_limits[api_name]
    
    def get_remaining_budget(self) -> float:
        """–û—Å—Ç–∞–≤—à–∏–π—Å—è –±—é–¥–∂–µ—Ç –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"""
        return max(0, self.daily_budget - self.get_daily_cost())
    
    def generate_cost_report(self) -> dict:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –ø–æ –∑–∞—Ç—Ä–∞—Ç–∞–º"""
        return {
            'total_cost': self.get_total_cost(),
            'daily_cost': self.get_daily_cost(),
            'remaining_budget': self.get_remaining_budget(),
            'costs_by_api': dict(self.costs),
            'budget_utilization': (self.get_daily_cost() / self.daily_budget) * 100
        }

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
cost_tracker = CostTracker()

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞—Ç—Ä–∞—Ç
def track_api_cost(api_name: str, tokens_field: str = None):
    def decorator(func):
        def wrapper(*args, **kwargs):
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç—ã –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º
            if cost_tracker.is_budget_exceeded():
                raise Exception(f"Daily budget exceeded: ${cost_tracker.daily_budget}")
                
            if cost_tracker.is_api_limit_exceeded(api_name):
                raise Exception(f"Daily limit exceeded for {api_name}")
            
            # –í—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
            result = func(*args, **kwargs)
            
            # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å
            tokens = 0
            if tokens_field and hasattr(result, tokens_field):
                tokens = getattr(result, tokens_field)
            elif tokens_field and isinstance(result, dict):
                tokens = result.get(tokens_field, 0)
                
            cost_tracker.record_call(api_name, tokens)
            
            return result
        return wrapper
    return decorator

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∞–≥–µ–Ω—Ç–µ
@track_api_cost('openai_gpt4', 'usage.total_tokens')
def some_expensive_analysis(text: str) -> str:
    """–ü—Ä–∏–º–µ—Ä –¥–æ—Ä–æ–≥–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ç—Ä–µ–∫–∏–Ω–≥–æ–º –∑–∞—Ç—Ä–∞—Ç"""
    # ... –¥–µ–ª–∞–µ–º –¥–æ—Ä–æ–≥–æ–π –≤—ã–∑–æ–≤ –∫ OpenAI ...
    response = call_openai_api(text)
    return response.choices[0].message.content

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - manual tracking
def manual_expensive_analysis(text: str) -> str:
    if cost_tracker.is_budget_exceeded():
        # –ï—Å–ª–∏ –±—é–¥–∂–µ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∏–ª–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è
        logging.warning("Budget exceeded. Using fallback summary.")
        return "Budget exceeded. Using fallback summary."
    
    if cost_tracker.is_api_limit_exceeded('openai_gpt4'):
        logging.warning("API limit exceeded for OpenAI GPT-4")
        return "API limit exceeded. Try again tomorrow."
    
    # ... –¥–µ–ª–∞–µ–º –¥–æ—Ä–æ–≥–æ–π –≤—ã–∑–æ–≤ –∫ OpenAI ...
    response = call_openai_api(text)
    
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã–∑–æ–≤–∞
    cost_tracker.record_call('openai_gpt4', tokens=response.usage.total_tokens)
    
    return response.choices[0].message.content
```

#### **3. Throttling –∏ Rate Limiting**
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–æ—Ç—É –≤—ã–∑–æ–≤–æ–≤ –∫–∞–∫ –∫ –≤–Ω–µ—à–Ω–∏–º API, —Ç–∞–∫ –∏ –∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º.

```python
import time
from functools import wraps
from collections import defaultdict, deque

class RateLimiter:
    def __init__(self):
        self.calls = defaultdict(deque)
        self.limits = {
            'coingecko': (50, 60),  # 50 –≤—ã–∑–æ–≤–æ–≤ –≤ –º–∏–Ω—É—Ç—É
            'twitter': (100, 900),   # 100 –≤—ã–∑–æ–≤–æ–≤ –≤ 15 –º–∏–Ω—É—Ç
            'goplus': (1000, 86400), # 1000 –≤—ã–∑–æ–≤–æ–≤ –≤ –¥–µ–Ω—å
        }
    
    def is_allowed(self, api_name: str) -> bool:
        if api_name not in self.limits:
            return True
            
        max_calls, time_window = self.limits[api_name]
        now = time.time()
        
        # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏
        while (self.calls[api_name] and 
               now - self.calls[api_name][0] > time_window):
            self.calls[api_name].popleft()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç
        if len(self.calls[api_name]) >= max_calls:
            return False
            
        # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –Ω–æ–≤—ã–π –≤—ã–∑–æ–≤
        self.calls[api_name].append(now)
        return True
    
    def wait_time(self, api_name: str) -> float:
        """–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞"""
        if api_name not in self.limits:
            return 0
            
        max_calls, time_window = self.limits[api_name]
        if len(self.calls[api_name]) < max_calls:
            return 0
            
        oldest_call = self.calls[api_name][0]
        return time_window - (time.time() - oldest_call)

rate_limiter = RateLimiter()

def rate_limit(api_name: str):
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            if not rate_limiter.is_allowed(api_name):
                wait_time = rate_limiter.wait_time(api_name)
                logging.warning(f"Rate limit hit for {api_name}. Waiting {wait_time:.2f}s")
                time.sleep(wait_time)
                
            return func(*args, **kwargs)
        return wrapper
    return decorator
```

#### **4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏ - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**

```python
import os
from typing import Dict, Optional
from dataclasses import dataclass

@dataclass
class APICredentials:
    """–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è API credentials"""
    api_key: str
    base_url: Optional[str] = None
    rate_limit: Optional[int] = None
    daily_quota: Optional[int] = None

class SecretManager:
    """–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏"""
    
    def __init__(self, environment: str = 'development'):
        self.environment = environment
        self._secrets: Dict[str, APICredentials] = {}
        self._load_secrets()
    
    def _load_secrets(self):
        """–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è"""
        if self.environment == 'development':
            self._load_from_env()
        elif self.environment == 'production':
            self._load_from_vault()  # –í –±—É–¥—É—â–µ–º
        
    def _load_from_env(self):
        """–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ .env —Ñ–∞–π–ª–∞"""
        self._secrets = {
            'coingecko': APICredentials(
                api_key=os.getenv('COINGECKO_API_KEY', ''),
                base_url='https://api.coingecko.com/api/v3',
                rate_limit=50,
                daily_quota=10000
            ),
            'twitter': APICredentials(
                api_key=os.getenv('TWITTER_API_KEY', ''),
                base_url='https://api.twitter.com/2',
                rate_limit=100,
                daily_quota=500000
            ),
            'openai': APICredentials(
                api_key=os.getenv('OPENAI_API_KEY', ''),
                base_url='https://api.openai.com/v1',
                daily_quota=1000  # –í —Ç–æ–∫–µ–Ω–∞—Ö
            )
        }
    
    def get_credentials(self, service: str) -> APICredentials:
        """–ü–æ–ª—É—á–∏—Ç—å credentials –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞"""
        if service not in self._secrets:
            raise ValueError(f"No credentials found for service: {service}")
        
        creds = self._secrets[service]
        if not creds.api_key:
            raise ValueError(f"API key not configured for service: {service}")
            
        return creds
    
    def is_service_available(self, service: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞"""
        try:
            creds = self.get_credentials(service)
            return bool(creds.api_key)
        except ValueError:
            return False

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–µ–∫—Ä–µ—Ç–æ–≤
secret_manager = SecretManager()
```

---

## üí° **–°–¢–û–ò–ú–û–°–¢–¨ –°–ï–†–í–ò–°–û–í –£–ü–†–ê–í–õ–ï–ù–ò–Ø –°–ï–ö–†–ï–¢–ê–ú–ò**

### **Doppler** 
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞**

- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω** –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- ‚úÖ **–î–æ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –±–µ—Å–ø–ª–∞—Ç–Ω–æ 
- ‚úÖ **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ —Å–µ–∫—Ä–µ—Ç—ã**
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - 15 –º–∏–Ω—É—Ç –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
- üí∞ **–ü–ª–∞—Ç–∏—Ç—å –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ:** –ø—Ä–∏ —Ä–æ—Å—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ 6+ —á–µ–ª–æ–≤–µ–∫

### **HashiCorp Vault**

**–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:**

1. **HCP Vault (–æ–±–ª–∞—á–Ω–∞—è –≤–µ—Ä—Å–∏—è):**
   - ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - ‚úÖ **–£–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Å–µ—Ä–≤–∏—Å** - –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å

2. **Vault Open Source (—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞):**
   - ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π** —Å–æ—Ñ—Ç
   - üí∞ **–°—Ç–æ–∏–º–æ—Å—Ç—å:** —Ç–æ–ª—å–∫–æ –∞—Ä–µ–Ω–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞ ($5-6/–º–µ—Å—è—Ü)
   - ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç:** —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å **Doppler** - –æ–Ω —Ä–µ—à–∞–µ—Ç 99% –∑–∞–¥–∞—á –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

---

## üéØ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

–≠—Ç–∏ –¥–≤–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:

1. **–ü—Ä–∏–Ω—Ü–∏–ø #7 (–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å)** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ –∏ —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
2. **–ü—Ä–∏–Ω—Ü–∏–ø #8 (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏)** –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

–ë–µ–∑ –Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –±—É–¥–µ—Ç –Ω–µ–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏ —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ–π –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —ç—Ç–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç –≤ enterprise-ready —Ä–µ—à–µ–Ω–∏–µ.

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π Gemini*  
*–î–∞—Ç–∞: 1 –∞–≤–≥—É—Å—Ç–∞ 2025*  
*–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞*
