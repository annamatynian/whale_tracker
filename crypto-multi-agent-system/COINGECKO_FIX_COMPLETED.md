# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–†–ò–¢–ò–ß–ï–°–ö–û–ì–û –ë–ê–ì–ê COINGECKO API - –°–¢–ê–¢–£–° –í–´–ü–û–õ–ù–ï–ù ‚úÖ

## üêõ **–ü—Ä–æ–±–ª–µ–º–∞ (–†–ï–®–ï–ù–ê):**
–°–∏—Å—Ç–µ–º–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∞ —Ñ–∏–ª—å—Ç—Ä `top_n_for_enrichment` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∞ **–í–°–ï 200 —Ç–æ–∫–µ–Ω–æ–≤** –≤ CoinGecko API –≤–º–µ—Å—Ç–æ —Ç–æ–ø-50, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç—Ä–∞—Ç–µ API calls –≤ **4 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ** —á–µ–º –Ω—É–∂–Ω–æ.

## üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:**

### 1. **–¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):**
```python
FUNNEL_CONFIG = {
    'top_n_for_enrichment': 5,        # ‚úÖ –¢–æ–ª—å–∫–æ 5 —Ç–æ–∫–µ–Ω–æ–≤ –≤ CoinGecko (–±—ã–ª–æ –±—ã 50 –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
    'max_onchain_candidates': 20,     # ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ OnChain –∞–Ω–∞–ª–∏–∑–∞  
    'min_score_for_alert': 50,        # ‚úÖ –ü–æ–Ω–∏–∂–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–ª–µ—Ä—Ç–æ–≤
}
```

### 2. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ –≤ —Ü–∏–∫–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω:**
**–ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```python
for i, candidate in enumerate(initial_candidates):  # ‚ùå –í—Å–µ 200 —Ç–æ–∫–µ–Ω–æ–≤!
    coingecko_data = self.coingecko_client.get_token_info_by_contract(...)
```

**–°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```python
enrichment_candidates = sorted_candidates[:FUNNEL_CONFIG['top_n_for_enrichment']]  # –¢–æ–ø-5
for i, candidate_data in enumerate(enrichment_candidates):  # ‚úÖ –¢–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã–µ!
    candidate = candidate_data['candidate']
    coingecko_data = self.coingecko_client.get_token_info_by_contract(...)
```

## üìä **–≠–∫–æ–Ω–æ–º–∏—è API calls:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –≠–∫–æ–Ω–æ–º–∏—è |
|----------|---------------|------------------|-----------|
| CoinGecko calls –∑–∞ —Ü–∏–∫–ª | 200 | 5 | **40x –º–µ–Ω—å—à–µ** |
| –ó–∞–ø—É—Å–∫–æ–≤ –≤ –º–µ—Å—è—Ü –ø—Ä–∏ –ª–∏–º–∏—Ç–µ 10k | 50 | 2,000 | **40x –±–æ–ª—å—à–µ** |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | ‚ùå –ë—ã—Å—Ç—Ä–æ –∫–æ–Ω—á–∞—é—Ç—Å—è | ‚úÖ –ú–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–æ–≤ | üéØ |

## üß™ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

### 1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```bash
cd crypto-multi-agent-system
python test_coingecko_fix_verification.py
```

### 2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞:**
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º 5 CoinGecko API calls –∑–∞ —Ü–∏–∫–ª
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–ª–µ—Ä—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç–æ–∫–µ–Ω—ã)

### 3. **–ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ - –º–æ–∂–Ω–æ:**
- –ó–∞–ø—É—Å–∫–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üö® **–í–∞–∂–Ω–æ –¥–ª—è production:**
–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ production, –∏–∑–º–µ–Ω–∏—Ç–µ:
```python
FUNNEL_CONFIG = {
    'top_n_for_enrichment': 50,       # –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 50 –¥–ª—è production
    'max_onchain_candidates': 100,    # –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç OnChain
    'min_score_for_alert': 60,        # –í–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–≥–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
}
```

## üìù **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
–í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `test_coingecko_fix.log` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

---
**–°–¢–ê–¢–£–°: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û ‚úÖ**  
**–ì–û–¢–û–í –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ: –î–ê ‚úÖ**  
**–î–ê–¢–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø: 2025-09-28**
