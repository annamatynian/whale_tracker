# E2E Testing Guide –¥–ª—è Whale Tracker

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É E2E (End-to-End) —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Whale Tracker.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ conftest.py          # –û–±—â–∏–µ pytest —Ñ–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ unit/                # Unit —Ç–µ—Å—Ç—ã (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
‚îî‚îÄ‚îÄ e2e/                 # E2E —Ç–µ—Å—Ç—ã (–Ω–æ–≤—ã–µ)
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ test_whale_tracker_e2e.py          # –¢–µ—Å—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    ‚îú‚îÄ‚îÄ test_monitoring_cycle_e2e.py        # –¢–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    ‚îî‚îÄ‚îÄ test_advanced_analyzers_e2e.py      # –¢–µ—Å—Ç—ã –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
```

## –ß—Ç–æ –ø–æ–∫—Ä—ã–≤–∞—é—Ç E2E —Ç–µ—Å—Ç—ã

### 1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** (`test_whale_tracker_e2e.py`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ Web3Manager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ WhaleConfig –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ WhaleAnalyzer –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ TelegramNotifier –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ NonceTracker, GasCorrelator, AddressProfiler –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ SimpleWhaleWatcher —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### 2. **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** (`test_monitoring_cycle_e2e.py`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ WhaleTrackerOrchestrator –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ Setup –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
- ‚úÖ –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏ –∫–∏—Ç–æ–≤
- ‚úÖ APScheduler –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫
- ‚úÖ Graceful shutdown —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ setup)

### 3. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã** (`test_advanced_analyzers_e2e.py`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ NonceTracker –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚ö†Ô∏è NonceTracker –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (—Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ API)
- ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö nonce (—Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ API)
- ‚úÖ GasCorrelator –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚ö†Ô∏è –ê–Ω–∞–ª–∏–∑ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ gas price (—Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ API)
- ‚úÖ AddressProfiler –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚ö†Ô∏è –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ API)
- ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ API)

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –í—Å–µ E2E —Ç–µ—Å—Ç—ã

```bash
pytest tests/e2e/ -v -m e2e
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª —Ç–µ—Å—Ç–æ–≤

```bash
# –¢–µ—Å—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
pytest tests/e2e/test_whale_tracker_e2e.py -v

# –¢–µ—Å—Ç—ã —Ü–∏–∫–ª–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
pytest tests/e2e/test_monitoring_cycle_e2e.py -v

# –¢–µ—Å—Ç—ã –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
pytest tests/e2e/test_advanced_analyzers_e2e.py -v
```

### –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º

```bash
pytest tests/e2e/ -v -s
```

### –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞

```bash
pytest tests/e2e/ --cov=src --cov-report=html
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- ‚úÖ **15 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
- ‚ö†Ô∏è 13 —Ç–µ—Å—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ (API mismatch)
- üîç 1 —Ç–µ—Å—Ç –ø—Ä–æ–ø—É—â–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ RPC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)

### –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

1. ‚úÖ NonceTracker –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
2. ‚úÖ GasCorrelator –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
3. ‚úÖ AddressProfiler –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
4. ‚úÖ Web3Manager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
5. ‚úÖ WhaleConfig –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
6. ‚úÖ WhaleAnalyzer –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
7. ‚úÖ TelegramNotifier –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
8. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
9. ‚úÖ SimpleWhaleWatcher —Å–æ–∑–¥–∞–Ω–∏–µ
10. ‚úÖ Orchestrator –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
11. ‚úÖ Orchestrator setup –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
12. ‚úÖ Graceful shutdown
13. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –±–µ–∑ setup
14. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∞–¥—Ä–µ—Å–æ–≤
15. ‚úÖ Scheduler setup

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest

### pytest.ini

–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª:

```ini
[pytest]
testpaths = tests
python_files = test_*.py
asyncio_mode = auto

markers =
    unit: Unit —Ç–µ—Å—Ç—ã
    integration: Integration —Ç–µ—Å—Ç—ã
    e2e: End-to-end —Ç–µ—Å—Ç—ã
    real_api: –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏
    mock: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ
```

### conftest.py

–û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

- `event_loop` - Event loop –¥–ª—è async —Ç–µ—Å—Ç–æ–≤
- `mock_settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ mock —Ä–µ–∂–∏–º–µ
- `real_settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö API
- `mock_web3_manager` - Web3Manager –≤ mock —Ä–µ–∂–∏–º–µ
- `whale_config` - WhaleConfig —Ñ–∏–∫—Å—Ç—É—Ä–∞
- `whale_analyzer` - WhaleAnalyzer —Ñ–∏–∫—Å—Ç—É—Ä–∞

## Mock —Ä–µ–∂–∏–º vs Real API

### Mock —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

E2E —Ç–µ—Å—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç **mock —Ä–µ–∂–∏–º**:
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö API –∫–ª—é—á–µ–π
- –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CI/CD
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

```python
settings = Settings()
settings.development.mock_data = True
```

### Real API —Ä–µ–∂–∏–º

–î–ª—è —Ç–µ—Å—Ç–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API:

```python
@pytest.mark.real_api
async def test_real_blockchain_monitoring():
    settings = Settings()
    settings.development.mock_data = False
    # –¢—Ä–µ–±—É–µ—Ç INFURA_URL –≤ .env
```

–ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ real_api —Ç–µ—Å—Ç–æ–≤:

```bash
pytest -m real_api
```

–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å real_api —Ç–µ—Å—Ç—ã:

```bash
pytest -m "not real_api"
```

## API –∫–ª—é—á–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API –Ω—É–∂–Ω—ã:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

- `INFURA_URL` - RPC endpoint –¥–ª—è Ethereum
- `TELEGRAM_BOT_TOKEN` - –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `TELEGRAM_CHAT_ID` - ID —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

- `ALCHEMY_URL` - Fallback RPC
- `ANKR_URL` - –ï—â–µ –æ–¥–∏–Ω fallback RPC
- `ETHERSCAN_API_KEY` - –î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã NonceTracker
- `COINGECKO_API_KEY` - –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω —Ç–æ–∫–µ–Ω–æ–≤

## –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ TODO

### –¢—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

1. **NonceTracker —Ç–µ—Å—Ç—ã** - –ú–µ—Ç–æ–¥—ã `analyze_transaction` –º–æ–≥—É—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥–æ–µ –∏–º—è/—Å–∏–≥–Ω–∞—Ç—É—Ä—É
2. **GasCorrelator —Ç–µ—Å—Ç—ã** - –ú–µ—Ç–æ–¥ `analyze_gas_correlation` —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
3. **AddressProfiler —Ç–µ—Å—Ç—ã** - –ú–µ—Ç–æ–¥ `profile_address` —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
4. **WhaleAnalyzer —Ç–µ—Å—Ç—ã** - –ú–µ—Ç–æ–¥ `analyze_transaction` —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
5. **WhaleConfig —Ç–µ—Å—Ç—ã** - –ú–µ—Ç–æ–¥ `classify_address` —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
6. **TelegramNotifier mock** - –ú–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤ –∏–º–µ–µ—Ç –¥—Ä—É–≥–æ–µ –∏–º—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ
2. –û–±–Ω–æ–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∞–ª—å–Ω—ã–º API
3. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ edge cases
4. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è database layer (Phase 2)
5. –î–æ–±–∞–≤–∏—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è real API (—Å conditional skip)

## Continuous Integration

### GitHub Actions –ø—Ä–∏–º–µ—Ä

```yaml
name: E2E Tests

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.11'
      - name: Install dependencies
        run: |
          pip install -r requirements.txt
      - name: Run E2E tests (mock mode)
        run: |
          pytest tests/e2e/ -v -m "e2e and mock"
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ mock —Ä–µ–∂–∏–º –¥–ª—è CI/CD**
2. **Real API —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –≤—Ä—É—á–Ω—É—é**
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä–∫–µ—Ä—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏** (`@pytest.mark.e2e`)
4. **–ò–∑–æ–ª–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç—ã** - –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º
5. **Cleanup** - —É–±–∏—Ä–∞–π—Ç–µ –∑–∞ —Å–æ–±–æ–π —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–∫–ª—é—á–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è debugging

## Debugging —Ç–µ—Å—Ç–æ–≤

### –ó–∞–ø—É—Å–∫ —Å –¥–µ–±–∞–≥ –≤—ã–≤–æ–¥–æ–º

```bash
pytest tests/e2e/ -v -s --log-cli-level=DEBUG
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

```bash
pytest tests/e2e/test_monitoring_cycle_e2e.py::TestWhaleTrackerMonitoringCycle::test_orchestrator_setup -v -s
```

### –° traceback

```bash
pytest tests/e2e/ --tb=long
```

### –° pdb debugger

```bash
pytest tests/e2e/ --pdb
```

## –ö–æ–Ω—Ç—Ä–∏–±—É—Ü–∏—è

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö E2E —Ç–µ—Å—Ç–æ–≤:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ñ–∞–π–ª–µ (`test_*_e2e.py`)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏–∑ `conftest.py`
3. –î–æ–±–∞–≤—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä–∫–µ—Ä—ã
4. –û–±–Ω–æ–≤–∏—Ç–µ —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
5. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ mock —Ä–µ–∂–∏–º–µ

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í–æ–ø—Ä–æ—Å—ã –ø–æ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –≤ `tests/e2e/`
- –ò–∑—É—á–∏—Ç–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –≤ `tests/conftest.py`
- –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å `pytest.ini` –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-22
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ E2E Testing Framework –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
