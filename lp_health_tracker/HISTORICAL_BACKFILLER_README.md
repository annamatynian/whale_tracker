# Historical Data Backfiller - Quick Start

üöÄ **–ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è HMM –º–æ–¥–µ–ª–µ–π**

## TL;DR - –ó–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
pip install PyYAML

# 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É
python test_historical_backfiller.py

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–∏–æ–¥ –≤ config/historical_data.yaml (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
python src/V3/historical_backfiller.py
```

## –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ

- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ 2+ –≥–æ–¥–∞** –≤ —Ñ–æ—Ä–º–∞—Ç–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º —Å `hmm_market_data_collector.py`
- ‚úÖ **–ú–∞–∫—Ä–æ-–º–µ—Ç—Ä–∏–∫–∏**: —Ü–µ–Ω—ã ETH, –æ–±—ä–µ–º—ã DEX/CEX, TVL  
- ‚úÖ **–°—Ä–∞–∑—É –≥–æ—Ç–æ–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç** –¥–ª—è –æ–±—É—á–µ–Ω–∏—è HMM –º–æ–¥–µ–ª–µ–π
- ‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –º–µ—Å—è—Ü–µ–≤ –æ–∂–∏–¥–∞–Ω–∏—è** - –¥–∞–Ω–Ω—ã–µ –∑–∞ —á–∞—Å-–¥–≤–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ü–æ–ª—É—á–∞–µ–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏:
- **eth_price_usd** (CoinGecko)
- **dex_volume_usd** (The Graph) 
- **cex_volume_usd** (Binance)
- **tvl_usd** (The Graph)
- **log_return** (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è)

### ‚ùå –ó–∞–ø–æ–ª–Ω—è–µ–º —Ä–∞–∑—É–º–Ω—ã–º–∏ default'–∞–º–∏:
- **–ì–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏** (avg_priority_fee_gwei: 20.0)
- **–ú–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (net_liquidity_change_usd: 0.0)
- **Outlier detection** (outlier_detected: false)

## –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/historical_data.yaml`:

```yaml
historical_data:
  date_range:
    start_date: "2023-01-01"  # –í–∞—à–∞ –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞
    end_date: "2025-09-14"    # –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ (–≤—á–µ—Ä–∞)
  intervals:
    time_interval: "daily"    # daily –±—ã—Å—Ç—Ä–µ–µ, hourly —Ç–æ—á–Ω–µ–µ
```

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–°–µ–≥–æ–¥–Ω—è**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `historical_backfiller.py` ‚Üí –ø–æ–ª—É—á–∏—Ç–µ `historical_macro_data.csv`
2. **–°–µ–≥–æ–¥–Ω—è**: –ù–∞—á–Ω–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ HMM –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö  
3. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `hmm_market_data_collector.py` ‚Üí –Ω–∞–∫–∞–ø–ª–∏–≤–∞–π—Ç–µ –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü**: –ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å –Ω–∞ –ø–æ–ª–Ω—ã—Ö real-time –¥–∞–Ω–Ω—ã—Ö

## –†–µ–∑—É–ª—å—Ç–∞—Ç

```csv
timestamp,datetime,eth_price_usd,log_return,dex_volume_usd,cex_volume_usd,...
1672531200,2023-01-01 00:00:00,1200.50,0.0,1500000.0,5000000.0,...
```

**–ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –≤–∞—à–∏–º–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ HMM –º–æ–¥–µ–ª—è–º–∏!**

---

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/HISTORICAL_DATA_BACKFILLER_GUIDE.md`  
üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `python test_historical_backfiller.py`
