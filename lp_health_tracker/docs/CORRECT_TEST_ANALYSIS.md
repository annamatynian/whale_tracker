# üéØ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ - –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –£—á–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π Gemini

**Gemini –≥–æ–≤–æ—Ä–∏–ª –æ —Ñ–∞–π–ª–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –£–ñ–ï –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã:**
- `test_master_plan_stage1.py` ‚úÖ –£–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ pytest  
- `test_stage2_final.py` ‚úÖ –£–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ pytest
- `test_live_data_api.py` ‚úÖ –£–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ pytest

**–°–µ–π—á–∞—Å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –î–†–£–ì–ò–ï —Ñ–∞–π–ª—ã**, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

## üìã –ê–Ω–∞–ª–∏–∑ –ø–æ —Ä–µ–∞–ª—å–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É

### üßÆ **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ/–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã - –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨**

#### 1. `test_apr_vs_apy.py` ‚Üí `tests/test_data_analyzer.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ APR vs APY –¥–ª—è fee calculations  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê –í—ã—Å–æ–∫–∞—è - –≤–∞–∂–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨** –∫–∞–∫ parametrized test  
```python
@pytest.mark.parametrize("investment,apr,days", [(1000, 0.15, 30), (5000, 0.08, 365)])
def test_apr_vs_apy_difference(investment, apr, days):
    # –õ–æ–≥–∏–∫–∞ –∏–∑ test_apr_vs_apy.py
```

#### 2. `test_apr_vs_apy_final.py` ‚Üí `tests/test_data_analyzer.py`  
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π APR/APY —Ç–µ—Å—Ç —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (4% –≤–º–µ—Å—Ç–æ 15%)  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê –í—ã—Å–æ–∫–∞—è - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ DeFi rates  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨** (–±–æ–ª–µ–µ —Ü–µ–Ω–Ω—ã–π —á–µ–º test_apr_vs_apy.py)  
**Note:** –£–¥–∞–ª–∏—Ç—å `test_apr_vs_apy.py`, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ final –≤–µ—Ä—Å–∏—é

#### 3. `test_net_pnl.py` ‚Üí `tests/test_data_analyzer.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –¢–µ—Å—Ç NetPnLCalculator —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ position data  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê –í—ã—Å–æ–∫–∞—è - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç core functionality  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨** –∫–∞–∫ —á–∞—Å—Ç—å NetPnLCalculator tests

#### 4. `test_standardization.py` ‚Üí `tests/test_data_analyzer.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π IL –ª–æ–≥–∏–∫–∏  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è - important regression test  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨** –∫–∞–∫ unit test –¥–ª—è IL standardization

### üîß **Utility/Infrastructure —Ç–µ—Å—Ç—ã - –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨**

#### 5. `test_defi_llama_scout.py` ‚Üí `scripts/defi_llama_scout.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** API exploration script –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö APY –æ—Ç DeFi Llama  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è - –ø–æ–ª–µ–∑–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è research  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨** –≤ scripts/ (—ç—Ç–æ –Ω–µ —Ç–µ—Å—Ç, –∞ utility)

#### 6. `test_defi_llama_scout_v2_only.py` ‚Üí `scripts/`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** Enhanced –≤–µ—Ä—Å–∏—è DeFi Llama scout  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è - —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —É—Ç–∏–ª–∏—Ç—ã  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨** –≤ scripts/, –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º

#### 7. `test_positions_reading.py` ‚Üí `scripts/position_validator.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –í–∞–ª–∏–¥–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è positions.json —Å –Ω–æ–≤—ã–º–∏ fee fields  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è - –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨** –≤ scripts/ –∫–∞–∫ utility –¥–ª—è position validation

### üêõ **Bug fix —Ç–µ—Å—Ç—ã - –†–ï–®–ò–¢–¨ –ü–û –°–¢–ê–¢–£–°–£**

#### 8. `test_bug_fix.py` ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–∞–≥–∞
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –¢–µ—Å—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ alert threshold bug  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê –ù–∏–∑–∫–∞—è –µ—Å–ª–∏ –±–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨** –∫–∞–∫ regression test –ò–õ–ò **–£–î–ê–õ–ò–¢–¨** –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–∫—Ä—ã—Ç–∞

#### 9. `test_gemini_fixes.py` ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ? - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ü–†–û–í–ï–†–ò–¢–¨** —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –ø–æ—Ç–æ–º —Ä–µ—à–∏—Ç—å

### üß™ **Development utilities - –û–°–¢–ê–í–ò–¢–¨ –í –ö–û–†–ù–ï**

#### 10. `quick_test.py` 
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ IL threshold logic  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è - –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–û–°–¢–ê–í–ò–¢–¨** –≤ –∫–æ—Ä–Ω–µ –∫–∞–∫ dev utility

#### 11. `quick_check.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ? - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ü–†–û–í–ï–†–ò–¢–¨**, –ø–æ—Ç–æ–º —Ä–µ—à–∏—Ç—å –æ—Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å quick_test.py

### üóëÔ∏è **Legacy/Demo scripts - –£–î–ê–õ–ò–¢–¨**

#### 12. `demo_reference_bug.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** Demo script –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –±–∞–≥–∞  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è - –≤—Ä–µ–º–µ–Ω–Ω—ã–π debug script  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–£–î–ê–õ–ò–¢–¨** (demo/debug scripts –Ω–µ –Ω—É–∂–Ω—ã –≤ production)

#### 13. `validate_stage2_demo.py`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** Demo validation script –¥–ª—è Stage 2  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê –ù–∏–∑–∫–∞—è - –¥—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–£–î–ê–õ–ò–¢–¨** (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —É–∂–µ –≤ pytest)

### üìä **Data files - –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨**

#### 14. `test_pools_config.json`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** Configuration –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤  
**–¶–µ–Ω–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è - –Ω—É–∂–µ–Ω –¥–ª—è tests  
**–î–µ–π—Å—Ç–≤–∏–µ:** **–ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨** –≤ `tests/fixtures/`

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω Phase 1 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π)

### **HIGH PRIORITY - –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã:**
1. **test_apr_vs_apy_final.py** ‚Üí integrate to pytest ‚úÖ 
2. **test_net_pnl.py** ‚Üí integrate to pytest ‚úÖ
3. **test_standardization.py** ‚Üí integrate to pytest ‚úÖ

### **MEDIUM PRIORITY - Utilities:**
4. **test_defi_llama_scout*.py** ‚Üí move to scripts/ üîÑ
5. **test_positions_reading.py** ‚Üí move to scripts/ üîÑ
6. **test_pools_config.json** ‚Üí move to tests/fixtures/ üîÑ

### **LOW PRIORITY - Cleanup:**
7. **test_apr_vs_apy.py** ‚Üí delete (redundant with final version) ‚ùå
8. **demo_reference_bug.py** ‚Üí delete (temp debug script) ‚ùå
9. **validate_stage2_demo.py** ‚Üí delete (duplicates pytest) ‚ùå

### **REVIEW NEEDED:**
10. **test_bug_fix.py** ‚Üí check if bug is fixed, then integrate or delete
11. **test_gemini_fixes.py** ‚Üí check content
12. **quick_check.py** ‚Üí check content

## üöÄ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è Phase 1

**–•–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å —Å HIGH PRIORITY –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π?**
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å APR/APY –ª–æ–≥–∏–∫—É –≤ pytest  
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Net P&L —Ç–µ—Å—Ç—ã
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å IL standardization tests

**–ò–ª–∏ —Å –ø—Ä–æ—Å—Ç—ã—Ö –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π (utilities)?**
- –°–æ–∑–¥–∞—Ç—å scripts/ –ø–∞–ø–∫—É
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å DeFi Llama scouts
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å position validator

–ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –¥–ª—è –Ω–∞—á–∞–ª–∞?