# =============================================================================
# WHALE TRACKER CONFIGURATION
# =============================================================================
#
# ИНСТРУКЦИИ:
# 1. Скопируйте этот файл: cp .env.example .env
# 2. Замените все YOUR_*_HERE на реальные значения
# 3. НИКОГДА не коммитьте .env файл в git!
#
# =============================================================================

# =============================================================================
# TELEGRAM УВЕДОМЛЕНИЯ (обязательно)
# =============================================================================
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_HERE
TELEGRAM_CHAT_ID=YOUR_CHAT_ID_HERE

# Получить токен: https://t.me/BotFather
# Получить Chat ID: https://t.me/userinfobot

# =============================================================================
# BLOCKCHAIN RPC ПРОВАЙДЕРЫ
# =============================================================================
# Система использует cascading failover: Infura -> Alchemy -> Ankr
# Нужен хотя бы INFURA_URL, остальные опциональны но рекомендуются
# Бесплатные варианты:
# - Infura: https://infura.io (3M credits/day)
# - Alchemy: https://alchemy.com (300M compute units/month)
# - Ankr: https://ankr.com (бесплатный публичный RPC)

# Primary RPC (Infura) - обязательно
INFURA_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID

# Fallback RPC providers (опционально, но рекомендуется для высокой доступности)
ALCHEMY_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
ANKR_URL=https://rpc.ankr.com/eth/YOUR_ANKR_API_KEY

# =============================================================================
# ETHERSCAN API (для получения списков транзакций)
# =============================================================================
# Получить бесплатные ключи:
# - Ethereum: https://etherscan.io/apis
# - Base: https://basescan.org/apis
# - Arbitrum: https://arbiscan.io/apis
# Free tier: 5 calls/sec, 100,000 calls/day

ETHERSCAN_API_KEY=YOUR_ETHERSCAN_API_KEY_HERE
BASE_ETHERSCAN_API_KEY=YOUR_BASESCAN_API_KEY_HERE
ARBITRUM_ETHERSCAN_API_KEY=YOUR_ARBISCAN_API_KEY_HERE
POLYGON_ETHERSCAN_API_KEY=YOUR_POLYGONSCAN_API_KEY_HERE

# =============================================================================
# COINGECKO API (для получения цен)
# =============================================================================
# Опционально - работает и без ключа, но с лимитами
# Free tier: 10-50 calls/minute
# Pro: https://www.coingecko.com/en/api/pricing

COINGECKO_API_KEY=
# Оставьте пустым для использования без ключа

# =============================================================================
# AI ANALYSIS (для Фазы 3-4)
# =============================================================================
# Опционально - для AI-анализа паттернов
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
DEEPSEEK_KEY=

# =============================================================================
# WHALE TRACKER НАСТРОЙКИ
# =============================================================================

# Адреса китов для мониторинга (через запятую)
# Примеры: известные киты (Vitalik, Tornado Cash deployer и т.д.)
WHALE_ADDRESSES=0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045,0xAb5801a7D398351b8bE11C439e05C5B3259aeC9B

# Основные параметры мониторинга
CHECK_INTERVAL_MINUTES=15          # Как часто проверять китов (минуты)
MIN_AMOUNT_USD=100000              # Минимальная сумма транзакции для алерта ($)

# Anomaly detection thresholds
ANOMALY_MULTIPLIER=1.3             # Множитель для определения аномалии (1.3 = 30% выше среднего)
ALERT_COOLDOWN_MINUTES=60          # Период между алертами для одного кита (минуты)
ONEHOP_CHECK_HOURS=2               # Временное окно для one-hop detection (часы)

# Rolling window for statistical analysis
ROLLING_WINDOW_SIZE=10             # Размер окна для скользящего среднего
MIN_HISTORY_REQUIRED=5             # Минимум транзакций для аномалии

# One-hop tracking
ONEHOP_ENABLED=true                # Включить отслеживание через промежуточные адреса

# Price tracking (Фаза 2 - пока не реализовано)
PRICE_IMPACT_TRACKING_ENABLED=false
PRICE_CHECK_INTERVALS=1,6,24       # Часы после транзакции для проверки цены

# Pattern analysis (Фаза 3 - пока не реализовано)
PATTERN_ANALYSIS_ENABLED=false
MIN_TRANSACTIONS_FOR_PATTERN=5     # Минимум транзакций для построения паттерна

# AI analysis (Фаза 4 - пока не реализовано)
AI_ANALYSIS_ENABLED=false

# =============================================================================
# DATABASE
# =============================================================================
DATABASE_URL=sqlite:///data/database/whale_tracker.db
# Для PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost:5432/whale_tracker

# =============================================================================
# СИСТЕМА
# =============================================================================
ENVIRONMENT=development            # development, staging, production
LOG_LEVEL=INFO                    # DEBUG, INFO, WARNING, ERROR
LOG_TO_FILE=true                  # Сохранять логи в файлы (logs/)
LOG_MAX_SIZE_MB=10                # Максимальный размер лог-файла (MB)
LOG_BACKUP_COUNT=5                # Количество backup файлов логов

# Development settings
MOCK_DATA_MODE=false              # true = использовать mock данные вместо реальных API вызовов

# =============================================================================
# RATE LIMITS (защита от превышения лимитов API)
# =============================================================================
MAX_API_CALLS_PER_MINUTE=50
ETHERSCAN_RATE_LIMIT_DELAY=0.2    # Секунды между вызовами
RPC_RATE_LIMIT_DELAY=0.1          # Секунды между вызовами

# =============================================================================
# БЕЗОПАСНОСТЬ
# =============================================================================
# Опционально - для будущего расширения
JWT_SECRET=
ENCRYPTION_KEY=

# =============================================================================
# БЫСТРЫЙ СТАРТ ДЛЯ MVP
# =============================================================================
#
# Для работы текущего MVP достаточно установить:
#
# ОБЯЗАТЕЛЬНО:
# 1. TELEGRAM_BOT_TOKEN        - Получить у @BotFather
# 2. TELEGRAM_CHAT_ID          - Получить у @userinfobot
# 3. INFURA_URL                - Зарегистрироваться на https://infura.io
# 4. WHALE_ADDRESSES           - Адреса китов для мониторинга
#
# РЕКОМЕНДУЕТСЯ:
# 5. ALCHEMY_URL               - Fallback RPC provider
# 6. ANKR_URL                  - Еще один fallback
#
# ОПЦИОНАЛЬНО (для будущих фаз):
# - ETHERSCAN_API_KEY          - Для получения истории транзакций (Фаза 2+)
# - COINGECKO_API_KEY          - Для отслеживания цен (Фаза 2+)
# - AI API KEYS                - Для AI анализа паттернов (Фаза 4)
# - DATABASE_URL               - Для хранения данных (Фаза 2+)
#
# YAML CONFIGURATION:
# Основная конфигурация хранится в config/base.yaml
# Environment overrides в config/environments/{development,production}.yaml
# .env переменные имеют наивысший приоритет и переопределяют YAML
#
# =============================================================================
